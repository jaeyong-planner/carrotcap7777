# HMK홀딩스 지식Agent - 지능형 RAG 에이전트 서비스

이 프로젝트는 HMK홀딩스의 문서들을 기반으로 질의응답을 수행할 수 있는 지능형 RAG (Retrieval-Augmented Generation) 에이전트 서비스입니다.

## ✨ 주요 기능

- 📄 **문서 업로드 및 파싱**: PDF, DOCX, PPTX, HWP, TXT 파일 지원
- 🧠 **지능형 청킹**: 문단과 문장을 고려한 스마트 텍스트 분할
- 🔍 **고도화된 검색**: 키워드 기반 및 의미적 유사성 검색
- 💬 **대화형 에이전트**: 문서 기반 자연어 대화 인터페이스
- ⚙️ **관리자 대시보드**: QA 데이터셋 생성 및 관리
- 🎯 **실시간 피드백**: 파일 처리 과정과 에러 상황 실시간 표시

## 🛠 기술 스택

- **Frontend**: React 19 + TypeScript + Tailwind CSS
- **AI Engine**: Google Gemini 2.5 Flash API
- **파일 파싱**: Mammoth.js (DOCX), PDF-parse (PDF)
- **저장소**: LocalStorage 기반 가상 파일 시스템 (VFS)
- **빌드 도구**: Vite
- **상태 관리**: React Hooks

## 🚀 설치 및 실행

### 1. 환경 설정

먼저 Gemini API 키를 설정해야 합니다:

```bash
# .env 파일에 API 키 설정
VITE_GEMINI_API_KEY=your_actual_gemini_api_key_here
```

### 2. 의존성 설치

```bash
npm install
```

### 3. 개발 서버 실행

```bash
npm run dev
```

또는 제공된 배치 파일 사용:
```bash
# Windows
start.bat
```

### 4. 프로덕션 빌드

```bash
npm run build
npm run preview
```

## 📖 사용 가이드

### 1. 문서 업로드 (데이터셋 페이지)
- 지원 형식: PDF, DOCX, PPTX, HWP, TXT
- 드래그 앤 드롭 또는 파일 선택으로 업로드
- 파일 파싱 및 내용 추출 자동 수행
- 업로드 성공/실패 알림 제공

### 2. 데이터셋 생성 (관리자 페이지)
- **새 문서로 데이터셋 업데이트**: 새로 업로드된 문서만 처리
- **전체 지우고 다시 만들기**: 모든 문서를 처음부터 재처리
- 실시간 처리 진행상황 표시
- 생성된 QA 데이터 JSON 미리보기

### 3. 문서 검색 (검색 페이지)
- 자연어 질문 입력
- 관련 문서 청크 자동 검색
- AI 기반 답변 생성
- 출처 문서 정보 및 다운로드 기능

### 4. 대화형 에이전트 (에이전트 페이지)
- 연속적인 대화 지원
- 문서 컨텍스트 기반 응답
- 마크다운 형식 답변 지원

## 🏗 프로젝트 구조

```
├── components/          # React 컴포넌트
│   ├── pages/          # 페이지 컴포넌트
│   ├── ui/             # UI 컴포넌트
│   └── icons/          # 아이콘 컴포넌트
├── services/           # 비즈니스 로직
│   ├── api.ts          # API 서비스
│   ├── fileParser.ts   # 파일 파싱 서비스
│   ├── textChunker.ts  # 텍스트 청킹 알고리즘
│   ├── searchEngine.ts # 검색 엔진
│   └── vfs.ts          # 가상 파일 시스템
├── src/config/         # 설정 파일
└── types.ts           # TypeScript 타입 정의
```

## 🔧 주요 개선사항

### 파일 처리
- ✅ 실제 파일 내용 파싱 및 저장
- ✅ 다양한 파일 형식 지원
- ✅ 파일 처리 상태 추적
- ✅ 에러 처리 및 사용자 피드백

### 텍스트 청킹
- ✅ 문단 기반 지능형 청킹
- ✅ 문장 경계 보존
- ✅ 중복(overlap) 지원
- ✅ 청크 크기 최적화

### 검색 엔진
- ✅ 키워드 가중치 기반 스코어링
- ✅ 한국어 텍스트 최적화
- ✅ 의미적 유사성 고려
- ✅ 폴백 검색 메커니즘

### 사용자 경험
- ✅ 실시간 진행상황 표시
- ✅ 상세한 에러 메시지
- ✅ 성공/실패 알림
- ✅ 직관적인 UI/UX

## 🔍 디버깅 및 문제 해결

### API 키 문제
```
에러: Gemini API 키가 설정되지 않았습니다.
해결: .env 파일에 VITE_GEMINI_API_KEY 설정 확인
```

### 파일 업로드 실패
```
에러: 파일에서 텍스트를 추출할 수 없습니다.
해결: 텍스트가 포함된 파일인지 확인, 지원 형식 재확인
```

### 데이터셋 생성 실패
```
에러: QA 데이터셋 생성 실패
해결: 업로드된 문서 확인, API 키 설정 확인
```

## 🎯 향후 개선 계획

- [ ] 벡터 임베딩 기반 의미적 검색
- [ ] 더 많은 파일 형식 지원 (PPT, Excel 등)
- [ ] 클라우드 저장소 연동
- [ ] 사용자 인증 및 권한 관리
- [ ] 검색 결과 하이라이팅
- [ ] 문서 버전 관리

## 📄 라이센스

이 프로젝트는 HMK홀딩스의 내부 지식 관리를 위한 도구로 개발되었습니다.
